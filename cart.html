<!DOCTYPE html>
<html>
<head>
   
    <title>Shopping Bag |</title>
   <link rel="stylesheet" href="bag.css">
</head>
<body>
    <div id="b1">
        <h3>Shopping Bag</h3>
        <p> Items</p>
    </div>
    <div id="boxes">
       
       <div id="b2">
          
       </div>
       <div id="b3">
           <h4>Order Summary</h4>
           <div>
               <span>Sub-Total</span><span></span>
           </div>
           <div>
               <span>Shipping</span><span></span>
           </div>
           <div>
               <span>Taxes & Duties</span><span></span>
           </div>
           <div>
               <span>Add a Promo Code</span>
               <input type="text">
           </div>
           <div>
               <span>Total(USD)</span><span></span>
           </div>

           <div>Any applicable taxes and/or duties have been applied to your Bag</div>
           <button>
               Proceed To Checkout
           </button>
       </div>
    </div>
</body>
</html>

<script>
   
    var count = JSON.parse(localStorage.getItem("count"))
    var array = JSON.parse(localStorage.getItem("atc"))
    displaydata(array)
    
    document.querySelector("#b1>p").innerText = count;
    function displaydata(data){
        document.querySelector("#b2").innerHTML = "";
        data.forEach(function (elem,index){

        var box1 = document.createElement("div")
        var image = document.createElement("img")
        image.setAttribute("src", elem.img);

        var box2 = document.createElement("div")
        var justin= document.createElement("p");
        justin.innerText = "JUST IN";
        var name = document.createElement("h3");
        name.innerText = elem.brand;
        var Type= document.createElement("p");
        Type.innerText = elem.name;
        var color= document.createElement("p");
        color.innerText = elem.category;
        var price = document.createElement("p");
        price.innerText = elem.price;
        var cutprice = document.createElement("p");
        cutprice.innerText = elem.price2;
        var del = document.createElement("img")
        del.setAttribute("src","data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0NCIgaGVpZ2h0PSI0NCI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBmaWxsPSIjQjdCN0I3IiBkPSJNMTUuNTEzIDEyLjM0aDEzLjgyNGMuMjEgMCAyLjMwNC0uMDkxIDIuNTEzIDIuM0gxM2MuMTA1LTIuMTE2IDEuOTktMi4zIDIuNTEzLTIuM3oiLz48cGF0aCBmaWxsPSIjQjdCN0I3IiBkPSJNMjIuNCAxMS4yYy0uNyAwLTEuMi41LTEuMiAxLjJzLjUgMS4yIDEuMiAxLjIgMS4yLS41IDEuMi0xLjItLjUtMS4yLTEuMi0xLjJtMCAzLjZjLTEuMyAwLTIuNC0xLjEtMi40LTIuNCAwLTEuMyAxLjEtMi40IDIuNC0yLjQgMS4zIDAgMi40IDEuMSAyLjQgMi40IDAgMS4zLTEgMi40LTIuNCAyLjQiLz48cGF0aCBzdHJva2U9IiNCN0I3QjciIHN0cm9rZS13aWR0aD0iMiIgZD0iTTE1IDMzLjVoMTQuODVWMTVIMTV6Ii8+PHBhdGggc3Ryb2tlPSIjQjdCN0I3IiBzdHJva2Utd2lkdGg9IjEuMiIgZD0iTTIwIDE4LjU1M1YzMC4wMW01LTExLjQ1N1YzMC4wMSIvPjwvZz48L3N2Zz4=")
        del.setAttribute("class","delete")
        del.addEventListener("click",function(){
            deletefun(elem,index)
         })

        
        box2.append(justin,name,Type,color,price,cutprice,del)
        box1.append(image,box2);
        document.querySelector("#b2").append(box1);
        
       
        document.querySelector("#b3>div:nth-child(2)>span:last-child").innerText = elem.price
        document.querySelector("#b3>div:nth-child(3)>span:last-child").innerText = "Free"
        document.querySelector("#b3>div:nth-child(4)>span:last-child").innerText = "$170"
        document.querySelector("#b3>div:nth-child(6)>span:last-child").innerText = elem.price2
        
    })
   
    }
      function deletefun(elem,index){
          array.splice(index,1)
          localStorage.setItem("atc",JSON.stringify(array))
          displaydata(array)
          if(count==0){
              count =0;
          }
          else{
              count--;
              localStorage.setItem("count",JSON.stringify(count))
          }
        //   count--
        //     localStorage.setItem("count",JSON.stringify(count))
            window.location.reload()
            
      }

    


</script>